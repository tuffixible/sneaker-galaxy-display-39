import{c as g,u as y,r as m,j as e,B as h,L as i,P as b,A as E,C as S,E as k,F as C,G as I,H as x,_ as M}from"./index-B_8ijzOe.js";import{C as T,a as L,d as A}from"./card-DmrTvf1n.js";import{I as D}from"./input-ubP1seug.js";import{T as _,a as O,b as p,c as d,d as B,e as o}from"./table-cuFkCkRr.js";import{P as H}from"./plus-DXCw_MOR.js";import{S as V}from"./search-yXaF56WI.js";import{E as G}from"./ellipsis-BJCwxTaQ.js";import{E as J}from"./eye-gQD-GB1D.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=g("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=g("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Z=()=>{const{language:w}=y(),[l,f]=m.useState(""),[j,u]=m.useState([]);m.useEffect(()=>{const s=()=>{const r=JSON.parse(localStorage.getItem("products")||"[]");if(r.length>0)u(r);else try{M(async()=>{const{products:n}=await import("./products-Ij8gCkVX.js");return{products:n}},[]).then(({products:n})=>{const c=n.map(P=>({...P,stock:Math.floor(Math.random()*100),active:Math.random()>.2}));u(c),localStorage.setItem("products",JSON.stringify(c))})}catch(n){console.error("Error loading products:",n)}};s();const a=()=>{s()};return window.addEventListener("productsUpdated",a),()=>{window.removeEventListener("productsUpdated",a)}},[]);const t=(()=>{switch(w){case"pt":return{title:"Produtos",description:"Gerenciar produtos da loja",addProduct:"Adicionar Produto",search:"Buscar produtos...",columns:{name:"Nome",brand:"Marca",price:"Preço",stock:"Estoque",status:"Status",actions:"Ações"},status:{active:"Ativo",inactive:"Inativo"},actions:{view:"Visualizar",edit:"Editar",delete:"Excluir"},noProducts:"Nenhum produto encontrado",manageInventory:"Gerenciar Estoque"};case"es":return{title:"Productos",description:"Gestionar productos de la tienda",addProduct:"Añadir Producto",search:"Buscar productos...",columns:{name:"Nombre",brand:"Marca",price:"Precio",stock:"Inventario",status:"Estado",actions:"Acciones"},status:{active:"Activo",inactive:"Inactivo"},actions:{view:"Ver",edit:"Editar",delete:"Eliminar"},noProducts:"No se encontraron productos",manageInventory:"Gestionar Inventario"};default:return{title:"Products",description:"Manage store products",addProduct:"Add Product",search:"Search products...",columns:{name:"Name",brand:"Brand",price:"Price",stock:"Stock",status:"Status",actions:"Actions"},status:{active:"Active",inactive:"Inactive"},actions:{view:"View",edit:"Edit",delete:"Delete"},noProducts:"No products found",manageInventory:"Manage Inventory"}}})(),v=j.filter(s=>{var a,r;return((a=s.name)==null?void 0:a.toLowerCase().includes(l.toLowerCase()))||((r=s.brand)==null?void 0:r.toLowerCase().includes(l.toLowerCase()))}),N=s=>{const a=j.filter(c=>c.id!==s);u(a),localStorage.setItem("products",JSON.stringify(a));const n=JSON.parse(localStorage.getItem("inventory")||"[]").filter(c=>c.id!==s);localStorage.setItem("inventory",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("productsUpdated")),window.dispatchEvent(new CustomEvent("inventoryUpdated"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t.title}),e.jsx("p",{className:"text-muted-foreground",children:t.description})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(h,{asChild:!0,children:e.jsxs(i,{to:"/admin/inventory",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),t.manageInventory]})}),e.jsx(h,{asChild:!0,children:e.jsxs(i,{to:"/admin/products/new",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),t.addProduct]})})]})]}),e.jsxs(T,{children:[e.jsx(L,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-5 w-5 text-muted-foreground"}),e.jsx(D,{placeholder:t.search,value:l,onChange:s=>f(s.target.value),className:"flex-1"})]})}),e.jsx(A,{children:e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(_,{children:[e.jsx(O,{children:e.jsxs(p,{children:[e.jsx(d,{children:t.columns.name}),e.jsx(d,{children:t.columns.brand}),e.jsx(d,{children:t.columns.price}),e.jsx(d,{children:t.columns.stock}),e.jsx(d,{children:t.columns.status}),e.jsx(d,{className:"text-right",children:t.columns.actions})]})}),e.jsx(B,{children:v.length>0?v.map(s=>{var a,r;return e.jsxs(p,{children:[e.jsx(o,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:((a=s.images)==null?void 0:a[0])||"/placeholder.svg",alt:s.name,className:"h-10 w-10 object-cover rounded"}),s.name]})}),e.jsx(o,{children:s.brand}),e.jsxs(o,{children:["$",((r=s.price)==null?void 0:r.toFixed(2))||"0.00"]}),e.jsx(o,{children:e.jsx("span",{className:s.stock<(s.lowStockThreshold||10)?"text-red-500 font-medium":"",children:s.stock||0})}),e.jsx(o,{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.active?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:s.active?t.status.active:t.status.inactive})}),e.jsx(o,{className:"text-right",children:e.jsxs(E,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(h,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(G,{className:"h-4 w-4"})]})}),e.jsxs(k,{align:"end",children:[e.jsx(C,{children:t.actions.view}),e.jsx(I,{}),e.jsx(x,{asChild:!0,children:e.jsxs(i,{to:`/product/${s.id}`,target:"_blank",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t.actions.view})]})}),e.jsx(x,{asChild:!0,children:e.jsxs(i,{to:`/admin/products/edit/${s.id}`,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t.actions.edit})]})}),e.jsxs(x,{className:"text-red-600",onClick:()=>N(s.id),children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t.actions.delete})]})]})]})})]},s.id)}):e.jsx(p,{children:e.jsx(o,{colSpan:6,className:"h-24 text-center",children:t.noProducts})})})]})})})]})]})};export{Z as default};
