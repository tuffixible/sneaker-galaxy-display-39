import{h as Q,i as V,u as _,r as m,j as e,B as u,X as A,K as O,J as l}from"./index-B_8ijzOe.js";import{getProductById as X}from"./products-Ij8gCkVX.js";import{I as p}from"./input-ubP1seug.js";import{L as c}from"./label-7s8BKSBJ.js";import{T as $}from"./textarea-DAhN50yL.js";import{C as R}from"./checkbox-CJZWBqmU.js";import{C as v,a as f,b,c as y,d as N}from"./card-DmrTvf1n.js";import{T as W,a as Y,b as C,c as z}from"./tabs-NL3w6x1-.js";import{A as Z}from"./arrow-left-C1MsaX7l.js";import{U as ee}from"./upload-DSgkWKJA.js";import{S as se}from"./save-xlF0FgKN.js";import"./index-DhyZlU1_.js";const ge=()=>{const{id:h}=Q(),x=V(),{language:T}=_(),n=!h,[t,o]=m.useState({id:h||Date.now().toString(),name:"",brand:"",price:0,colors:[],sizes:[],images:[],description:"",featured:!1}),[g,w]=m.useState(""),[E,S]=m.useState(""),[ae,F]=m.useState([]),[B,I]=m.useState([]),a=(()=>{switch(T){case"pt":return{title:n?"Adicionar Produto":"Editar Produto",description:n?"Adicione um novo produto à loja":"Edite os detalhes do produto",tabs:{basic:"Informações Básicas",details:"Detalhes",images:"Imagens",inventory:"Estoque"},fields:{name:"Nome do Produto",brand:"Marca",price:"Preço",description:"Descrição",featured:"Produto em Destaque",colors:"Cores",sizes:"Tamanhos",stock:"Quantidade em Estoque",status:"Status"},placeholders:{name:"Digite o nome do produto",brand:"Digite a marca",price:"0.00",description:"Digite uma descrição detalhada do produto...",color:"Digite uma cor e pressione Enter",size:"Digite um tamanho e pressione Enter"},buttons:{save:"Salvar Produto",cancel:"Cancelar",addColor:"Adicionar",addSize:"Adicionar",uploadImages:"Selecionar Imagens",featured:"Destacar na Página Inicial"},messages:{saved:"Produto salvo com sucesso!",imageAdded:"Imagem adicionada",imageRemoved:"Imagem removida",colorAdded:"Cor adicionada",colorRemoved:"Cor removida",sizeAdded:"Tamanho adicionado",sizeRemoved:"Tamanho removido"}};case"es":return{title:n?"Añadir Producto":"Editar Producto",description:n?"Añade un nuevo producto a la tienda":"Edita los detalles del producto",tabs:{basic:"Información Básica",details:"Detalles",images:"Imágenes",inventory:"Inventario"},fields:{name:"Nombre del Producto",brand:"Marca",price:"Precio",description:"Descripción",featured:"Producto Destacado",colors:"Colores",sizes:"Tallas",stock:"Cantidad en Inventario",status:"Estado"},placeholders:{name:"Escribe el nombre del producto",brand:"Escribe la marca",price:"0.00",description:"Escribe una descripción detallada del producto...",color:"Escribe un color y presiona Enter",size:"Escribe una talla y presiona Enter"},buttons:{save:"Guardar Producto",cancel:"Cancelar",addColor:"Añadir",addSize:"Añadir",uploadImages:"Seleccionar Imágenes",featured:"Destacar en Página Principal"},messages:{saved:"¡Producto guardado con éxito!",imageAdded:"Imagen añadida",imageRemoved:"Imagen eliminada",colorAdded:"Color añadido",colorRemoved:"Color eliminado",sizeAdded:"Talla añadida",sizeRemoved:"Talla eliminada"}};default:return{title:n?"Add Product":"Edit Product",description:n?"Add a new product to the store":"Edit product details",tabs:{basic:"Basic Information",details:"Details",images:"Images",inventory:"Inventory"},fields:{name:"Product Name",brand:"Brand",price:"Price",description:"Description",featured:"Featured Product",colors:"Colors",sizes:"Sizes",stock:"Stock Quantity",status:"Status"},placeholders:{name:"Enter product name",brand:"Enter brand",price:"0.00",description:"Enter a detailed product description...",color:"Type a color and press Enter",size:"Type a size and press Enter"},buttons:{save:"Save Product",cancel:"Cancel",addColor:"Add",addSize:"Add",uploadImages:"Select Images",featured:"Feature on Homepage"},messages:{saved:"Product saved successfully!",imageAdded:"Image added",imageRemoved:"Image removed",colorAdded:"Color added",colorRemoved:"Color removed",sizeAdded:"Size added",sizeRemoved:"Size removed"}}}})();m.useEffect(()=>{if(h){const s=X(h);s?(o(s),I(s.images)):x("/admin/products")}},[h,x]);const j=s=>{const{name:r,value:i}=s.target;o(r==="price"?d=>({...d,[r]:parseFloat(i)||0}):d=>({...d,[r]:i}))},U=s=>{o(r=>({...r,featured:s}))},k=()=>{g.trim()!==""&&!t.colors.includes(g.trim())&&(o(s=>({...s,colors:[...s.colors,g.trim()]})),w(""),l.success(a.messages.colorAdded))},L=s=>{o(r=>({...r,colors:r.colors.filter(i=>i!==s)})),l.success(a.messages.colorRemoved)},D=()=>{const s=E.trim(),r=parseInt(s);!isNaN(r)&&!t.sizes.includes(r)&&(o(i=>({...i,sizes:[...i.sizes,r].sort((d,P)=>{const J=typeof d=="string"?parseInt(d):d,M=typeof P=="string"?parseInt(P):P;return J-M})})),S(""),l.success(a.messages.sizeAdded))},q=s=>{o(r=>({...r,sizes:r.sizes.filter(i=>i!==s)})),l.success(a.messages.sizeRemoved)},G=s=>{if(s.target.files){const r=Array.from(s.target.files);F(d=>[...d,...r]);const i=r.map(d=>URL.createObjectURL(d));I(d=>[...d,...i]),l.success(a.messages.imageAdded),o(d=>({...d,images:[...d.images,...i]}))}},K=s=>{I(r=>r.filter((i,d)=>d!==s)),o(r=>({...r,images:r.images.filter((i,d)=>d!==s)})),l.success(a.messages.imageRemoved)},H=()=>{console.log("Saving product:",t),l.success(a.messages.saved),x("/admin/products")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{variant:"outline",size:"icon",onClick:()=>x("/admin/products"),children:e.jsx(Z,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:a.title}),e.jsx("p",{className:"text-muted-foreground",children:a.description})]})]})}),e.jsxs(W,{defaultValue:"basic",className:"w-full",children:[e.jsxs(Y,{className:"grid grid-cols-4 mb-6",children:[e.jsx(C,{value:"basic",children:a.tabs.basic}),e.jsx(C,{value:"details",children:a.tabs.details}),e.jsx(C,{value:"images",children:a.tabs.images}),e.jsx(C,{value:"inventory",children:a.tabs.inventory})]}),e.jsx(z,{value:"basic",children:e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(b,{children:a.tabs.basic}),e.jsx(y,{children:"Informações principais do produto"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:a.fields.name}),e.jsx(p,{id:"name",name:"name",value:t.name,onChange:j,placeholder:a.placeholders.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"brand",children:a.fields.brand}),e.jsx(p,{id:"brand",name:"brand",value:t.brand,onChange:j,placeholder:a.placeholders.brand})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"price",children:a.fields.price}),e.jsx(p,{id:"price",name:"price",type:"number",step:"0.01",value:t.price,onChange:j,placeholder:a.placeholders.price})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{id:"featured",checked:t.featured||!1,onCheckedChange:U}),e.jsx(c,{htmlFor:"featured",children:a.buttons.featured})]})]})]})}),e.jsx(z,{value:"details",children:e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(b,{children:a.tabs.details}),e.jsx(y,{children:"Detalhes adicionais do produto"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:a.fields.description}),e.jsx($,{id:"description",name:"description",value:t.description,onChange:j,placeholder:a.placeholders.description,rows:5})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{children:a.fields.colors}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.colors.map((s,r)=>e.jsxs("div",{className:"bg-secondary flex items-center gap-1 px-3 py-1 rounded-full text-sm",children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:()=>L(s),className:"text-gray-500 hover:text-red-500",children:e.jsx(A,{className:"h-3 w-3"})})]},r))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{value:g,onChange:s=>w(s.target.value),placeholder:a.placeholders.color,onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),k())}}),e.jsx(u,{onClick:k,type:"button",children:a.buttons.addColor})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{children:a.fields.sizes}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.sizes.map((s,r)=>e.jsxs("div",{className:"bg-secondary flex items-center gap-1 px-3 py-1 rounded-full text-sm",children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:()=>q(s),className:"text-gray-500 hover:text-red-500",children:e.jsx(A,{className:"h-3 w-3"})})]},r))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{value:E,onChange:s=>S(s.target.value),placeholder:a.placeholders.size,type:"number",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),D())}}),e.jsx(u,{onClick:D,type:"button",children:a.buttons.addSize})]})]})]})]})}),e.jsx(z,{value:"images",children:e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(b,{children:a.tabs.images}),e.jsx(y,{children:"Gerencie as imagens do produto"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center p-4",children:e.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center max-w-xl w-full",children:[e.jsx(O,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 text-center mb-2",children:"Arraste e solte imagens aqui ou clique para selecionar"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"image-upload",onChange:G}),e.jsx(u,{asChild:!0,children:e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),a.buttons.uploadImages]})})]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-6",children:B.map((s,r)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Product ${r+1}`,className:"h-40 w-full object-cover rounded-md"}),e.jsx("button",{className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>K(r),children:e.jsx(A,{className:"h-4 w-4"})})]},r))})]})})]})}),e.jsx(z,{value:"inventory",children:e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(b,{children:a.tabs.inventory}),e.jsx(y,{children:"Gerenciamento de estoque"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"stock",children:a.fields.stock}),e.jsx(p,{id:"stock",type:"number",min:"0",placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"status",children:a.fields.status}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{id:"status",defaultChecked:!0}),e.jsx(c,{htmlFor:"status",children:"Ativo"})]})]})]})})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(u,{variant:"outline",onClick:()=>x("/admin/products"),children:a.buttons.cancel}),e.jsxs(u,{onClick:H,children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),a.buttons.save]})]})]})};export{ge as default};
