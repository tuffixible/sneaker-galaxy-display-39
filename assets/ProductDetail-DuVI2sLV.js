import{h as S,i as w,a as C,r as n,j as e,B as d,L as k,S as P,J as I}from"./index-B_8ijzOe.js";import{N as x,F as u}from"./Footer-CCG5yLN0.js";import{getProductById as B}from"./products-Ij8gCkVX.js";import{f as A}from"./InventoryUtils-CuExVan7.js";import{A as E}from"./arrow-left-C1MsaX7l.js";import{M as L}from"./minus-YeYM6jBL.js";import{P as J}from"./plus-DXCw_MOR.js";import"./input-ubP1seug.js";import"./search-yXaF56WI.js";import"./user-DhePmqPS.js";import"./shopping-cart-CYd_g7ZI.js";const G=()=>{const{id:f}=S(),h=w(),{addToCart:p}=C(),t=B(f||""),[c,j]=n.useState(null),[a,o]=n.useState(1),[l,g]=n.useState(0),[N,i]=n.useState("USD");if(n.useEffect(()=>{const s=JSON.parse(localStorage.getItem("storeSettings")||"{}");s.currency&&i(s.currency);const r=()=>{const m=JSON.parse(localStorage.getItem("storeSettings")||"{}");m.currency&&i(m.currency)};return window.addEventListener("storeSettingsUpdated",r),()=>{window.removeEventListener("storeSettingsUpdated",r)}},[]),!t)return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(x,{}),e.jsx("main",{className:"flex-grow flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx(d,{onClick:()=>h("/catalogo"),children:"Back to Catalog"})]})}),e.jsx(u,{})]});const b=()=>{if(!c){I.error("Por favor, selecione um tamanho");return}p(t,c,a)},v=()=>{a>1&&o(a-1)},y=()=>{o(a+1)};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(x,{}),e.jsx("main",{className:"flex-grow pt-24",children:e.jsxs("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[e.jsxs(k,{to:"/catalogo",className:"inline-flex items-center text-sm mb-8 hover:text-primary transition-colors",children:[e.jsx(E,{size:16,className:"mr-1"})," Back to Catalog"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square bg-secondary/30 rounded-xl overflow-hidden mb-4",children:e.jsx("img",{src:t.images[l],alt:t.name,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex space-x-2",children:t.images.map((s,r)=>e.jsx("button",{className:`w-20 h-20 overflow-hidden rounded-lg border-2 ${r===l?"border-primary":"border-transparent"}`,onClick:()=>g(r),children:e.jsx("img",{src:s,alt:`${t.name} view ${r+1}`,className:"w-full h-full object-cover"})},r))})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:t.name}),e.jsx("p",{className:"text-lg text-muted-foreground mb-2",children:t.brand}),e.jsx("p",{className:"text-2xl font-semibold mb-6",children:A(t.price,t.currency||N)}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-medium mb-2",children:"Cores disponíveis"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.colors.map((s,r)=>e.jsx("span",{className:"px-3 py-1 bg-secondary rounded-full text-sm",children:s},r))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-medium mb-2",children:"Selecione o tamanho"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.sizes.map(s=>e.jsx("button",{className:`w-12 h-12 rounded-full flex items-center justify-center text-sm font-medium ${c===(typeof s=="string"?Number(s):s)?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,onClick:()=>{const r=typeof s=="string"?Number(s):s;j(r)},children:s},s.toString()))}),c===null&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Selecione um tamanho para continuar"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-sm font-medium mb-2",children:"Quantidade"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:v,className:"w-10 h-10 flex items-center justify-center bg-secondary rounded-full",disabled:a<=1,children:e.jsx(L,{size:16})}),e.jsx("span",{className:"w-12 text-center mx-2 font-medium",children:a}),e.jsx("button",{onClick:y,className:"w-10 h-10 flex items-center justify-center bg-secondary rounded-full",children:e.jsx(J,{size:16})})]})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs(d,{size:"lg",className:"flex-grow",onClick:b,children:[e.jsx(P,{className:"mr-2",size:18})," Adicionar ao Carrinho"]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Descrição"}),e.jsx("p",{className:"text-muted-foreground",children:t.description})]})]})]})]})}),e.jsx(u,{})]})};export{G as default};
