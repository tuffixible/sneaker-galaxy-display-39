import{m as G,r as y,t as W,n as X,j as e,p as U,q as K,I as Q,d as O,u as Y,i as Z,B as g,X as T,J as L}from"./index-B_8ijzOe.js";import{C as k,a as S,b as I,d as N}from"./card-DmrTvf1n.js";import{I as j}from"./input-ubP1seug.js";import{L as r}from"./label-7s8BKSBJ.js";import{T as ee}from"./textarea-DAhN50yL.js";import{S as z,a as E,b as B,c as D,d as R}from"./select-C9jFBeAQ.js";import{C as ae}from"./checkbox-CJZWBqmU.js";import{u as te}from"./index-DhyZlU1_.js";import{a as se}from"./InventoryUtils-CuExVan7.js";import{A as oe}from"./arrow-left-C1MsaX7l.js";import{P as q}from"./plus-DXCw_MOR.js";import{U as ie}from"./upload-DSgkWKJA.js";import"./chevron-down-K5qyta0R.js";var F="Switch",[ne,Se]=G(F),[re,ce]=ne(F),H=y.forwardRef((l,u)=>{const{__scopeSwitch:d,name:b,checked:s,defaultChecked:t,required:m,disabled:v,value:f="on",onCheckedChange:i,form:C,...x}=l,[h,w]=y.useState(null),a=W(u,n=>w(n)),o=y.useRef(!1),c=h?C||!!h.closest("form"):!0,[p=!1,P]=X({prop:s,defaultProp:t,onChange:i});return e.jsxs(re,{scope:d,checked:p,disabled:v,children:[e.jsx(U.button,{type:"button",role:"switch","aria-checked":p,"aria-required":m,"data-state":V(p),"data-disabled":v?"":void 0,disabled:v,value:f,...x,ref:a,onClick:K(l.onClick,n=>{P(A=>!A),c&&(o.current=n.isPropagationStopped(),o.current||n.stopPropagation())})}),c&&e.jsx(le,{control:h,bubbles:!o.current,name:b,value:f,checked:p,required:m,disabled:v,form:C,style:{transform:"translateX(-100%)"}})]})});H.displayName=F;var M="SwitchThumb",J=y.forwardRef((l,u)=>{const{__scopeSwitch:d,...b}=l,s=ce(M,d);return e.jsx(U.span,{"data-state":V(s.checked),"data-disabled":s.disabled?"":void 0,...b,ref:u})});J.displayName=M;var le=l=>{const{control:u,checked:d,bubbles:b=!0,...s}=l,t=y.useRef(null),m=te(d),v=Q(u);return y.useEffect(()=>{const f=t.current,i=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(i,"checked").set;if(m!==d&&x){const h=new Event("click",{bubbles:b});x.call(f,d),f.dispatchEvent(h)}},[m,d,b]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:d,...s,tabIndex:-1,ref:t,style:{...l.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function V(l){return l?"checked":"unchecked"}var _=H,de=J;const $=y.forwardRef(({className:l,...u},d)=>e.jsx(_,{className:O("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",l),...u,ref:d,children:e.jsx(de,{className:O("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));$.displayName=_.displayName;const Ie=()=>{const{language:l}=Y(),u=Z(),d=se(),s=(()=>{switch(l){case"pt":return{title:"Adicionar Novo Produto",backToProducts:"Voltar para Produtos",basicInfo:"Informações Básicas",name:"Nome do Produto",brand:"Marca",price:"Preço",currency:"Moeda",description:"Descrição",inventory:"Estoque",stockManagement:"Gerenciamento de Estoque",initialStock:"Estoque Inicial",lowStockThreshold:"Limite de Estoque Baixo",trackInventory:"Controlar Estoque",attributes:"Atributos",colors:"Cores Disponíveis",addColor:"Adicionar Cor",sizes:"Tamanhos Disponíveis",addSize:"Adicionar Tamanho",images:"Imagens",addImages:"Adicionar Imagens",displayOptions:"Opções de Exibição",featured:"Destaque na Página Inicial",status:"Status do Produto",active:"Ativo",inactive:"Inativo",category:"Categoria",selectCategory:"Selecionar Categoria",displayLocation:"Local de Exibição",locationHomepage:"Página Inicial",locationBanner:"Banner",locationRotative:"Destaque Rotativo",locationCatalog:"Apenas Catálogo",locationAll:"Todos os Locais",selectLocation:"Selecionar Local de Exibição",submit:"Criar Produto",cancel:"Cancelar"};case"es":return{title:"Agregar Nuevo Producto",backToProducts:"Volver a Productos",basicInfo:"Información Básica",name:"Nombre del Producto",brand:"Marca",price:"Precio",currency:"Moneda",description:"Descripción",inventory:"Inventario",stockManagement:"Gestión de Inventario",initialStock:"Stock Inicial",lowStockThreshold:"Límite de Stock Bajo",trackInventory:"Controlar Inventario",attributes:"Atributos",colors:"Colores Disponibles",addColor:"Agregar Color",sizes:"Tallas Disponibles",addSize:"Agregar Talla",images:"Imágenes",addImages:"Agregar Imágenes",displayOptions:"Opciones de Visualización",featured:"Destacado en Página Principal",status:"Estado del Producto",active:"Activo",inactive:"Inactivo",category:"Categoría",selectCategory:"Seleccionar Categoría",displayLocation:"Ubicación de Visualización",locationHomepage:"Página Principal",locationBanner:"Banner",locationRotative:"Destacado Rotativo",locationCatalog:"Solo Catálogo",locationAll:"Todas las Ubicaciones",selectLocation:"Seleccionar Ubicación",submit:"Crear Producto",cancel:"Cancelar"};default:return{title:"Add New Product",backToProducts:"Back to Products",basicInfo:"Basic Information",name:"Product Name",brand:"Brand",price:"Price",currency:"Currency",description:"Description",inventory:"Inventory",stockManagement:"Stock Management",initialStock:"Initial Stock",lowStockThreshold:"Low Stock Threshold",trackInventory:"Track Inventory",attributes:"Attributes",colors:"Available Colors",addColor:"Add Color",sizes:"Available Sizes",addSize:"Add Size",images:"Images",addImages:"Add Images",displayOptions:"Display Options",featured:"Featured on Homepage",status:"Product Status",active:"Active",inactive:"Inactive",category:"Category",selectCategory:"Select Category",displayLocation:"Display Location",locationHomepage:"Homepage",locationBanner:"Banner",locationRotative:"Rotative Highlight",locationCatalog:"Catalog Only",locationAll:"All Locations",selectLocation:"Select Display Location",submit:"Create Product",cancel:"Cancel"}}})(),[t,m]=y.useState({name:"",brand:"",price:"",currency:"USD",description:"",initialStock:"10",lowStockThreshold:"5",trackInventory:!0,colors:[""],sizes:[""],images:[""],featured:!1,active:!0,category:"",displayLocation:"catalog"}),v=[{id:"running",name:"Running"},{id:"casual",name:"Casual"},{id:"basketball",name:"Basketball"},{id:"skate",name:"Skate"},{id:"training",name:"Training"}],f=[{id:"homepage",name:s.locationHomepage},{id:"banner",name:s.locationBanner},{id:"rotative",name:s.locationRotative},{id:"catalog",name:s.locationCatalog},{id:"all",name:s.locationAll}],i=(a,o)=>{m({...t,[a]:o})},C=(a,o,c)=>{const p=[...t[a]];p[o]=c,m({...t,[a]:p})},x=a=>{m({...t,[a]:[...t[a],""]})},h=(a,o)=>{const c=[...t[a]];c.splice(o,1),m({...t,[a]:c})},w=a=>{if(a.preventDefault(),!t.name||!t.brand||!t.price){L.error("Please fill all required fields");return}if(t.colors.length===0||t.sizes.length===0||t.images.length===0){L.error("Product must have at least one color, size and image");return}const o={id:Date.now().toString(),name:t.name,brand:t.brand,price:parseFloat(t.price),currency:t.currency,description:t.description,colors:t.colors.filter(n=>n.trim()!==""),sizes:t.sizes.map(n=>parseInt(n)).filter(n=>!isNaN(n)),images:t.images.filter(n=>n.trim()!==""),featured:t.featured,category:t.category,active:t.active,displayLocation:t.displayLocation,stock:parseInt(t.initialStock)||0,lowStockThreshold:parseInt(t.lowStockThreshold)||5,trackInventory:t.trackInventory};console.log("Creating new product:",o);const c=JSON.parse(localStorage.getItem("products")||"[]");localStorage.setItem("products",JSON.stringify([...c,o]));const p=JSON.parse(localStorage.getItem("inventory")||"[]"),P={...o,sku:`SKU-${o.id.substring(0,6)}`,status:o.stock>0?o.stock<=o.lowStockThreshold?"low-stock":"in-stock":"out-of-stock"};if(localStorage.setItem("inventory",JSON.stringify([...p,P])),L.success("Product created successfully!"),window.dispatchEvent(new CustomEvent("productsUpdated")),window.dispatchEvent(new CustomEvent("inventoryUpdated")),o.featured){const n=JSON.parse(localStorage.getItem("siteContent")||"{}"),A=n.featuredProducts||[];n.featuredProducts=[...A,o.id],localStorage.setItem("siteContent",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("siteContentUpdated"))}u("/admin/products")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:"outline",size:"icon",onClick:()=>u("/admin/products"),children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s.title})]}),e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsxs(k,{children:[e.jsx(S,{children:e.jsx(I,{children:s.basicInfo})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"name",children:[s.name," *"]}),e.jsx(j,{id:"name",value:t.name,onChange:a=>i("name",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"brand",children:[s.brand," *"]}),e.jsx(j,{id:"brand",value:t.brand,onChange:a=>i("brand",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"price",children:[s.price," *"]}),e.jsx(j,{id:"price",type:"number",min:"0",step:"0.01",value:t.price,onChange:a=>i("price",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"currency",children:s.currency}),e.jsxs(z,{value:t.currency,onValueChange:a=>i("currency",a),children:[e.jsx(E,{children:e.jsx(B,{placeholder:"USD ($)"})}),e.jsx(D,{children:d.map(a=>e.jsxs(R,{value:a.code,children:[a.code," (",a.symbol,") - ",a.name]},a.code))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"category",children:s.category}),e.jsxs(z,{value:t.category,onValueChange:a=>i("category",a),children:[e.jsx(E,{children:e.jsx(B,{placeholder:s.selectCategory})}),e.jsx(D,{children:v.map(a=>e.jsx(R,{value:a.id,children:a.name},a.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"displayLocation",children:s.displayLocation}),e.jsxs(z,{value:t.displayLocation,onValueChange:a=>i("displayLocation",a),children:[e.jsx(E,{children:e.jsx(B,{placeholder:s.selectLocation})}),e.jsx(D,{children:f.map(a=>e.jsx(R,{value:a.id,children:a.name},a.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:s.description}),e.jsx(ee,{id:"description",value:t.description,onChange:a=>i("description",a.target.value),rows:4})]})]})]}),e.jsxs(k,{children:[e.jsx(S,{children:e.jsx(I,{children:s.inventory})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{id:"trackInventory",checked:t.trackInventory,onCheckedChange:a=>i("trackInventory",a)}),e.jsx(r,{htmlFor:"trackInventory",children:s.trackInventory})]}),t.trackInventory&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"initialStock",children:s.initialStock}),e.jsx(j,{id:"initialStock",type:"number",min:"0",value:t.initialStock,onChange:a=>i("initialStock",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"lowStockThreshold",children:s.lowStockThreshold}),e.jsx(j,{id:"lowStockThreshold",type:"number",min:"0",value:t.lowStockThreshold,onChange:a=>i("lowStockThreshold",a.target.value)})]})]})]})]}),e.jsxs(k,{children:[e.jsx(S,{children:e.jsx(I,{children:s.attributes})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(r,{children:s.colors}),t.colors.map((a,o)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:a,onChange:c=>C("colors",o,c.target.value),placeholder:"e.g. Black/White"}),t.colors.length>1&&e.jsx(g,{type:"button",variant:"outline",size:"icon",onClick:()=>h("colors",o),children:e.jsx(T,{className:"h-4 w-4"})})]},`color-${o}`)),e.jsxs(g,{type:"button",variant:"outline",onClick:()=>x("colors"),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),s.addColor]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(r,{children:s.sizes}),t.sizes.map((a,o)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:a,onChange:c=>C("sizes",o,c.target.value),placeholder:"e.g. 42",type:"number"}),t.sizes.length>1&&e.jsx(g,{type:"button",variant:"outline",size:"icon",onClick:()=>h("sizes",o),children:e.jsx(T,{className:"h-4 w-4"})})]},`size-${o}`)),e.jsxs(g,{type:"button",variant:"outline",onClick:()=>x("sizes"),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),s.addSize]})]})]})]}),e.jsxs(k,{children:[e.jsx(S,{children:e.jsx(I,{children:s.images})}),e.jsxs(N,{className:"space-y-4",children:[t.images.map((a,o)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:a,onChange:c=>C("images",o,c.target.value),placeholder:"Image URL"}),t.images.length>1&&e.jsx(g,{type:"button",variant:"outline",size:"icon",onClick:()=>h("images",o),children:e.jsx(T,{className:"h-4 w-4"})})]},`image-${o}`)),e.jsxs(g,{type:"button",variant:"outline",onClick:()=>x("images"),children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),s.addImages]})]})]}),e.jsxs(k,{children:[e.jsx(S,{children:e.jsx(I,{children:s.displayOptions})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{id:"featured",checked:t.featured,onCheckedChange:a=>i("featured",!!a)}),e.jsx(r,{htmlFor:"featured",children:s.featured})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:s.status}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"active",name:"status",checked:t.active,onChange:()=>i("active",!0)}),e.jsx(r,{htmlFor:"active",children:s.active})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"inactive",name:"status",checked:!t.active,onChange:()=>i("active",!1)}),e.jsx(r,{htmlFor:"inactive",children:s.inactive})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>u("/admin/products"),children:s.cancel}),e.jsx(g,{type:"submit",children:s.submit})]})]})]})};export{Ie as default};
